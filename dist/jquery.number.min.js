/**
 * <pre>
 * mit license 
 * https://github.com/otwm/jquery.number.git
 * </pre>
 * 
 * @author kdo
 */
var kdo={number:"jquery.number.bykdo"};
$.fn.number=function(c){var f=function(a){a=(a+"").replace(/\,/g,"");temp=a.split(".");value1=temp[0];value2=1<temp.length?"."+temp[1]:"";for(a=/(\d+)(\d{3})/;a.test(value1);)value1=value1.replace(a,"$1,$2");return value1+value2};if("undefined"!=typeof c)return c=f(c),/\./g.test(c)?c.replace(/[0]*$/,"").replace(/[.]$/,""):c;var d=$.fn.val;$.fn.number.originalVal=d;$.fn.val=function(a){if(!$(this).data(kdo.number))return d.call(this);if(1<=arguments.length)return d.call(this,a);var e=d.call(this).replace(/\,/g,
"");return/\./g.test(e)?e.replace(/[0]*$/,"").replace(/[.]$/,""):e.replace(/[.]$/,"")};return this.each(function(){var a=$(this);a.data(kdo.number,!0);a.on("keypress."+kdo.number,function(){var a=$(this);var b=event.which,a=48<=b&&57>=b?!0:46!=b||/\./g.test(a.val())?!1:!0;a||event.preventDefault()});a.on("keyup."+kdo.number,function(){var a=$(this);a.val(f(d.call(a)))});a.on("blur."+kdo.number,function(){var a=$(this),b=d.call(a);/\./g.test(b)&&(b=b.replace(/[0]*$/,"").replace(/[.]$/,""));a.val(b.replace(/[.]$/,
""))});return a})};$.fn.number.originalVal=null;$.fn.unNumber=function(c){$.fn.val=$.fn.number.originalVal;return this.each(function(){$(this).off("."+kdo.number)})};